/********************************* VALIDATION *********************************/
// Overrides autogenerated function
onClickControlAddNewSurveyUnit () {
  parentTabgroup__ = "Control";
  if (validateControlMain()) {
    newSurveyUnit();
  }
}

validateControlMain() {
  String refNumberOfRows    = "Control/Main/Number_of_Rows";
  String refNumberOfWalkers = "Control/Main/Number_of_Walkers";
  String refRowInterval     = "Control/Main/Row_Interval";
  String refWalkerInterval  = "Control/Main/Walker_Interval";

  String archNumberOfRows    = guessArch16nVal(refNumberOfRows   );
  String archNumberOfWalkers = guessArch16nVal(refNumberOfWalkers);
  String archRowInterval     = guessArch16nVal(refRowInterval    );
  String archWalkerInterval  = guessArch16nVal(refWalkerInterval );

  String    head = "Invalid Input(s)";
  String fmtBody = "'{name}' must be an integer between 1 and {max} inclusive.";

  if (getFieldValueAsInt(refNumberOfRows) <= 0) {
    String body = replaceFirst(fmtBody, "{name}", archNumberOfRows);
           body = replaceFirst(fmtBody, "{max}",  GRID_MAX_HEIGHT-1);
    showWarning(head, body);
    return false;
  }

  if (getFieldValueAsInt(refNumberOfWalkers) <= 0) {
    String body = replaceFirst(fmtBody, "{name}", archNumberOfWalkers);
           body = replaceFirst(fmtBody, "{max}",  GRID_MAX_WIDTH-1);
    showWarning(head, body);
    return false;
  }

  if (getFieldValueAsInt(refRowInterval) <= 0) {
    String body = replaceFirst(fmtBody, "{name}", archRowInterval);
    showWarning(head, body);
    return false;
  }

  if (getFieldValueAsInt(refWalkerInterval) <= 0) {
    String body = replaceFirst(fmtBody, "{name}", archWalkerInterval);
    showWarning(head, body);
    return false;
  }

  return true;
}
