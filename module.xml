<?xml version="1.0" encoding="utf-8"?>
<!--@PREPROC:  ./preproc.sh -->
<!--@POSTPROC: ./postproc.sh -->
<module suppressWarnings="true">

<Login f="nodata">
  <Login f="noscroll">
    <User_Name t="list" f="user" l="Control"/>
  </Login>
</Login>

<Control f="nodata">
  <Main>
    <Add_New_Survey_Unit t="button" l="Survey_Unit"/>
    <autonum/>
    <Number_of_Rows    b="decimal">
      Starting Number of Rows
    </Number_of_Rows>
    <Number_of_Walkers b="decimal">
    </Number_of_Walkers>
    <Row_Interval      b="decimal">
      Row Interval (m)
      <!--TODO: This must be inherited by the Survey Unit-->
    </Row_Interval>
    <Walker_Interval      b="decimal">
      Walker Interval (m)
      <!--TODO: This must be inherited by the Survey Unit-->
    </Walker_Interval>
  </Main>
  <search/>
  <Vars>
    <Highlighted_Row/>
    <Highlighted_Walker/>
    <Number_of_Rows/>
    <Number_of_Walkers/>
    <Row_Interval/>
    <Walker_Interval/>
  </Vars>
</Control>

<Survey_Unit>
  <Survey_Unit f="noscroll">
    <Survey_Unit_ID f="id autonum"/>
    <Add_New_Walker_Unit lc="Walker_Unit" t="button"/>
    <Walker_Units        ec="Walker_Unit"/>
  </Survey_Unit>
  <Vars>
    <Number_of_Rows/>
    <Number_of_Walkers/>
    <Row_Interval/>
    <Walker_Interval/>
  </Vars>
</Survey_Unit>

<Walker_Unit>
  <Walker_Unit>
    <Survey_Unit_ID t="webview" f="nolabel"/>
    <Grid           t="webview" f="nolabel"/>
    <!--D-Pad-->
    <cols>
      <Delete_Row t="button"/>
      <Up         t="button"/>
      <!--Confirms that all unfilled rows have zeros-->
      <Zero_Row_And_Next_1 t="button">
        Next Row
      </Zero_Row_And_Next_1>
    </cols>
    <cols>
      <Left       t="button"/>
      <Load       t="button"/>
      <Right      t="button"/>
    </cols>
    <cols>
      <N_A t="checkbox">
        <opts>
          <opt>N/A</opt>
        </opts>
      </N_A>
      <Down       t="button"/>
      <Next_Walker_Unit_1 t="button">
        Next Cell
      </Next_Walker_Unit_1>
    </cols>
    <!--Buttons-->
    <!--Primary recording fields-->
    <cols>
      <Ancient b="decimal"/>
      <Add_Ancient_M_2 t="button">
        Anc. m&#178;
      </Add_Ancient_M_2>
      <HM     b="decimal"/>
      <Add_HM_M_2 t="button">
        HM m&#178;
      </Add_HM_M_2>
    </cols>
    <cols>
      <Modern  b="decimal"/>
      <Add_Modern_M_2  t="button">
        Mod. m&#178;
      </Add_Modern_M_2>
      <Lithic b="decimal"/>
      <Add_Lithic_M_2 t="button">
        Lit. m&#178;
      </Add_Lithic_M_2>
    </cols>
    <cols>
      <A_C     b="decimal">
        A/C
      </A_C>
      <Add_A_C_M_2     t="button">
        A/C m&#178;
      </Add_A_C_M_2>
      <Glass  b="decimal"/>
      <Add_Glass_M_2     t="button">
        Gla. m&#178;
      </Add_Glass_M_2>
    </cols>
    <cols>
      <Daub b="decimal"/>
      <Add_Daub_M_2 t="button">
        Dau. m&#178;
      </Add_Daub_M_2>
      <Other  b="decimal"/>
      <Add_Other_M_2 t="button">
        Oth. m&#178;
      </Add_Other_M_2>
    </cols>
    <Notes/>
    <!--Buttons-->
    <cols>
      <Zero_Row_And_Next_2 t="button">
        Next Row
      </Zero_Row_And_Next_2>
      <Next_Walker_Unit_2 t="button">
        Next Cell
      </Next_Walker_Unit_2>
    </cols>
    <!--Secondary recording fields-->
    <Chronology t="checkbox">
      <opts>
        <opt>Prehistoric</opt>
        <opt>Classical</opt>
        <opt>Medieval</opt>
        <opt>Ottoman</opt>
      </opts>
    </Chronology>
    <Fragment t="checkbox">
      <opts>
        <opt>Fragment</opt>
      </opts>
    </Fragment>
    <Wear t="checkbox">
      <opts>
        <opt>Wear</opt>
      </opts>
    </Wear>
    <Next_Survey_Unit t="button">
      <!--TODO: Implement me-->
    </Next_Survey_Unit>
  </Walker_Unit>
  <Vars>
    <Row_ID    b="decimal" f="id readonly"/>
    <Walker_ID b="decimal" f="id readonly"/>
  </Vars>
</Walker_Unit>

<logic><![CDATA[
  <!--@SOURCE: logic/header.bsh-->
  <!--@SOURCE: logic/util.bsh-->

  <!--@SOURCE: logic/density.bsh-->
  <!--@SOURCE: logic/grid.bsh-->
  <!--@SOURCE: logic/navigation-drawer.bsh-->
  <!--@SOURCE: logic/persistence.bsh-->
  <!--@SOURCE: logic/survey-unit-id-population.bsh-->
  <!--@SOURCE: logic/validation.bsh-->
]]></logic>

</module>
